let products = [
  {
    img: "https://8384f55340.vws.vegacdn.vn/image/cache/catalog/products/August%202022/chau-lan-ho-diep-012-2.jpg.webp",
    name: "Chậu Lan Hồ Điệp - 012",
    sale: 0,
    newPrice: "2950000VND",
    oldPrice: "",
    description:
      "Chậu lan hồ điệp 012 được thiết kế từ 10 cành hoa lan hồ điệp màu tím và hồng được thiết kế bởi shop hoa tươi FlowerCorner sẽ là lựa chọn hoàn hảo để dành tặng cho ba mẹ, cấp trên trong dịp sinh nhật, chúc mừng thăng chức hay những ngày lễ đặc biệt khác trong năm.",
    component: "Chậu lan hồ điệp 012 gồm :",
    element1: "Lan hồ điệp tím : 5 cành",
    element2: "Lan hồ điệp hồng : 5 cành",
  },
  {
    img: "https://8384f55340.vws.vegacdn.vn/image/cache/catalog/products/August%202022/chau-lan-ho-diep-065.jpg.webp",
    name: "Chậu Lan Hồ Điệp - 065",
    sale: 0,
    newPrice: "2750000VND",
    oldPrice: "",
    description:
      "Chậu lan hồ điệp 065 được thiết kế từ 6 cành lan trắng kết hợp 4 cành lan sọc trắng hồng dễ thương. Chậu lan là lựa chọn phù hợp để gửi tặng sinh nhật ba mẹ hay đối tác là nữ.",
    component: "Chậu lan hồ điệp 065 bao gồm: ",
    element1: "Lan hồ điệp trắng : 6 cành",
    element2: "Lan hồ điệp sọc trắng hồng: 4 cành",
  },
  {
    img: "https://8384f55340.vws.vegacdn.vn/image/cache/catalog/products/August%202022/chau-lan-ho-diep-052.jpg.webp",
    name: "Chậu Lan Hồ Điệp - 052",
    sale: 0,
    newPrice: "2420000VND",
    oldPrice: "",
    description:
      "Chậu lan hồ điệp 052 được thiết kế với 8 cành lan hồ điệp màu cam độc đáo. Chậu hoa là lựa chọn hoàn hảo để làm quà tặng đối tác trong ngày khai trương hoặc chưng nhà vào dịp tết.",
    component: "Chậu lan hồ điệp 052 gồm:",
    element1: "8 cành lan hồ điệp màu cam",
    element2: "Lá phụ trang trí",
  },
  {
    img: "https://8384f55340.vws.vegacdn.vn/image/cache/catalog/products/August%202022/chau-lan-ho-diep-008-02.jpg.webp",
    name: "Chậu Lan Hồ Điệp - 008",
    sale: 0,
    newPrice: "2810000VND",
    oldPrice: "",
    description:
      "Tượng trưng cho sự thịnh vượng, sang trọng và quý phái, hoa lan hồ điệp màu trắng là một trong những màu sắc được ưa chuộng nhất. Chậu lan hồ điệp 008 được thiết kế từ 10 cành hoa lan hồ điệp màu trắng được thiết kế bởi shop hoa tươi FlowerCorner sẽ là lựa chọn hoàn hảo để dành tặng cho ba mẹ, cấp trên trong dịp sinh nhật, chúc mừng thăng chức hay những ngày lễ đặc biệt khác trong năm.",
    component: "Chậu lan hồ điệp 008 bao gồm:",
    element1: "Lan hồ điệp trắng : 10 cành",
  },
  {
    img: "https://8384f55340.vws.vegacdn.vn/image/cache/catalog/products/August%202022/chau-lan-mua-doan-vien.jpg.webp",
    name: "Mùa Đoàn Viên",
    sale: 0,
    newPrice: "8500000VND",
    oldPrice: "",
    description:
      "Châu lan hồ điệp vàng Mùa Đoàn Viên gồm 30 cành lan hồ điệp mini màu vàng rực rỡ. Lan hồ điệp màu vàng được xem là màu may mắn nhất và mang lại rất nhiều năng lượng tích cực. Sắc vàng từ lan hồ điệp còn tượng trưng cho sự sang trọng nhưng ấm áp chân thành. Chậu lan mùa đoàn viên là lựa chọn hoàn hảo cho dịp sinh nhật, khai trương hoặc làm quà tặng người thân, đối tác vào dịp Tết Nguyên Đán.",
    component: "Chậu lan gồm có:",
    element1: "30 cành lan hồ điệp mini màu vàng",
  },
  {
    img: "https://8384f55340.vws.vegacdn.vn/image/cache/catalog/products/August%202022/chau-lan-ho-diep-042.jpg.webp",
    name: "Chậu Lan Hồ Điệp - 042",
    sale: 0,
    newPrice: "5500000VND",
    oldPrice: "",
    description:
      "Chậu lan hồ điệp 042 được thiết kế với 15 cành lan vàng, một trong những loại lan được ưa chuộng nhất hiện nay. Chậu lan hồ điệp 042 là lựa chọn hoàn hỏa để gửi tặng đối tác trong dịp khai trương hoặc lễ tết. Chậu Lan Hồ Điệp - 042 cũng là lựa chọn thích hợp nếu như bạn đang tìm kiếm một loại hoa trưng nhà trong dịp tết nguyên đán.",
    component: "Chậu lan hồ điệp - 042 được thiết kế từ:",
    element1: "Lan hồ điêp vàng: 20 cành",
    element2: "Hoa lá trang trí",
  },
  {
    img: "https://8384f55340.vws.vegacdn.vn/image/cache/catalog/products/August%202022/chau-hoa-lan-ho-diep-001.jpg.webp",
    name: "Chậu Lan Hồ Điệp - 001",
    sale: 0,
    newPrice: "4040000VND",
    oldPrice: "",
    description:
      "Chậu lan hồ điệp - 001 được thiết kế từ 7 cành lan hồ điệp trắng và 8 cành lan hồ điệp màu hồng cao cấp. Đây sẽ là một món quà ấn tượng cho dịp khai trương, hay trang trí nhà cửa dịp Tết đến.",
    component: "Chậu Lan Hồ Điệp - 001 được thiết kế từ",
    element1: "Lan hồ điệp trắng: 7 cành",
    element2: "Lan hồ điệp tím nhạt: 8 cành",
  },
  {
    img: "https://8384f55340.vws.vegacdn.vn/image/cache/catalog/products/August%202022/chau-lan-ho-diep-012.jpg.webp",
    name: "Chậu Lan Hồ Điệp Tết Phồn Thịnh",
    sale: 0,
    newPrice: "2700000VND",
    oldPrice: "",
    description: "",
    component: "Chậu lan hồ điệp Tết Phồn Thịnh được thiết kế từ:",
    element1: "Cây lan hồ điệp mini trắng: 10 cây",
  },
  {
    img: "https://8384f55340.vws.vegacdn.vn/image/cache/catalog/products/August%202023/ke-hoa-khai-truong-huy-hoang.jpg.webp",
    name: "Chậu Lan Hồ Điệp - 028",
    sale: 0,
    newPrice: "2870000VND",
    oldPrice: "",
    description:
      "Được thiết kế với 10 cành lan hồ điệp tím sọc trắng độc đáo, loài hoa tượng trưng cho sự sang trọng, quyền lực và vương giả, chậu lan hồ điệp 028 là món quà chúc mừng hoàn hảo gửi tới đối tác, người thân hoặc bạn bè trong dịp khai trương. Bên cạnh đó, đây cũng là lựa chọn phù hợp để gửi tới cấp trên hoặc những người lớn tuổi trong dịp sinh nhật.",
    component: "Chậu lan gồm có:",
    element1: "Lan hồ điệp tím sọc trắng: 10 cành",
  },
  {
    img: "https://8384f55340.vws.vegacdn.vn/image/cache/catalog/products/August%202022/chau-lan-ho-diep-063.jpg.webp",
    name: "Chậu Lan Hồ Điệp - 063",
    sale: 0,
    newPrice: "7000000VND",
    oldPrice: "",
    description:
      "Chậu Lan Hồ Điệp - 063 được thiết kế từ 25 cành hoa lan hồ điệp màu đỏ mang đến sự may mắn, tài lộc. Nếu bạn đang cần một loài hoa để tặng đối tác quan trọng nhân dịp khai trương hoặc chưng nhà/văn phòng vào dịp Tết Nguyên Đán thì Chậu Lan Hồ Điệp - 063 là lựa chọn hoàn hảo.",
    component: "Chậu lan hồ điệp 063 gồm có:",
    element1: "25 cành lan hồ điệp đỏ",
  },
  {
    img: "https://8384f55340.vws.vegacdn.vn/image/cache/catalog/products/August%202023/chau-lan-ho-diep-an-thinh.jpg.webp",
    name: "Chậu lan hồ điệp An Thịnh",
    sale: 0,
    newPrice: "2350000VND",
    oldPrice: "",
    description: "",
    component: "Chậu lan hồ điệp An Thịnh được thiết kế từ:",
    element1: "Lan hồ điệp tím: 8 cành",
  },
  {
    img: "https://8384f55340.vws.vegacdn.vn/image/cache/catalog/products/August%202023/lan-ho-diep-01.jpg.webp",
    name: "Chậu Lan Hồ Điệp Tết - 01",
    sale: 0,
    newPrice: "2780000VND",
    oldPrice: "",
    description: "",
    component: "Châu Lan Hồ Điệp được thiết kế từ:",
    element1: "Làn hồ điệp sọc cam: 10 cây",
  },
  {
    img: "https://8384f55340.vws.vegacdn.vn/image/cache/catalog/products/August%202023/lan-ho-diep-02.jpg.webp",
    name: "Chậu Lan Hồ Điệp Tết - 02",
    sale: 0,
    newPrice: "5,310000VND",
    oldPrice: "",
    description: "",
    component: "Châu Lan Hồ Điệp được thiết kế từ:",
    element1: "Làn hồ điệp vàng: 20 cây",
  },
  {
    img: "https://8384f55340.vws.vegacdn.vn/image/cache/catalog/products/August%202023/lan-ho-diep-06.jpg.webp",
    name: "Chậu Lan Hồ Điệp Tết - 06",
    sale: 0,
    newPrice: "2780000VND",
    oldPrice: "",
    description: "",
    component: "Châu Lan Hồ Điệp được thiết kế từ:",
    element1: "Làn hồ điệp vàng: 10 cây",
  },
  {
    img: "https://8384f55340.vws.vegacdn.vn/image/cache/catalog/products/August%202023/chau-lan-ho-diep-tet-xuan-hong.jpg.webp",
    name: "Chậu Lan Hồ Điệp Tết Xuân Hồng",
    sale: 0,
    newPrice: "1780000VND",
    oldPrice: "",
    description: "",
    component: "Chậu lan hồ điệp Tết Xuân Hồng được thiết kế từ:",
    element1: "Cây lan hồ điệp tím: 3 cây",
    element2: "Cây lan hồ điệp trắng: 3 cây",
  },
  {
    img: "https://8384f55340.vws.vegacdn.vn/image/cache/catalog/products/August%202023/chau-lan-ho-diep-vuong-thinh-tet.jpg.webp",
    name: "Chậu Lan Hồ Điệp Vương Thịnh Tết",
    sale: 0,
    newPrice: "2750000VND",
    oldPrice: "",
    description: "",
    component: "Chậu lan hồ điệp Vương Thịnh Tết được thiết kế từ:",
    element1: "Cây lan hồ điệp vàng: 10 cây",
  },
  {
    img: "https://8384f55340.vws.vegacdn.vn/image/cache/catalog/products/August%202022/chau-lan-ho-diep-005-02.jpg.webp",
    name: "Chậu Lan Hồ Điệp - 005",
    sale: 0,
    newPrice: "2750000VND",
    oldPrice: "",
    description:
      "Sắc vàng của những cánh hoa lan hồ điệp rực rỡ, lộng lẫy như một tài vật may mắn thu hút và đem lại những điều tốt đẹp nhất đến với gia chủ. Hãy ghi thêm điểm trong mắt đối phương cũng như thể hiện tâm ý chân thành của bạn đến họ thông qua việc gửi tặng chậu lan hồ điệp 005 gồm 10 cành lan vàng xinh đẹp này đến họ nhé.",
    component: "Chậu lan bao gồm:",
    element1: "Lan hồ điệp vàng : 10 ",
  },
  {
    img: "https://8384f55340.vws.vegacdn.vn/image/cache/catalog/products/August%202023/chau-lan-ho-diep-020.jpg.webp",
    name: "Chậu Lan Hồ Điệp - 020",
    sale: 0,
    newPrice: "1760000VND",
    oldPrice: "",
    description:
      "Những đóa hoa lan hồ điệp vàng căng tràn sức sống luôn tạo cho người ta cảm giác rực rỡ nhưng không quá chói lọi, như ánh nắng ban mai sưởi ấm lên mọi ngõ ngách của thế gian. Với một chậu lan 6 cành, bạn đã có thể trao đến những người mà bạn quan tâm nhất những lời chúc tốt đẹp nhất cùng tấm lòng chân thành và quý báu nhất của mình. Còn chần chừ gì mà không trao ngay những nhành hoa tươi để đối phương biết được những điều tuyệt vời ấy ",
    component: "Chậu lan gồm có:",
    element1: "Lan hồ điệp vàng : 6",
  },
  {
    img: "https://8384f55340.vws.vegacdn.vn/image/cache/catalog/products/August%202023/chau-hoa-lan-ho-diep-tim-8-canh.jpg.webp",
    name: "Chậu Lan Hồ Điệp - 040",
    sale: 0,
    newPrice: "2280000VND",
    oldPrice: "",
    description:
      "Ngọt ngào và thơ mộng. Tinh tế và sang trọng. Xao Xuyến rất lãng mạn và tinh tế, rất thích hợp cho các phòng khách có không gian mở càng tăng thêm sự ấm cúng và sang trọng của không gian ngôi nhà. Chậu Lan bao gồm 7 cành lan tím nhạt. Chậu lan hồ điệp được thiết kế bởi shop hoa tươi Flower Corner sẽ là lựa chọn hoàn hảo để dành tặng cho ba mẹ, cấp trên trong dịp sinh nhật, chúc mừng thăng chức hay những ngày lễ đặc biệt khác trong năm.",
    component: "Chậu hoa bao gồm:",
    element1: "Lan hồ điệp tím nhạt : 8 cành",
  },
  {
    img: "https://8384f55340.vws.vegacdn.vn/image/cache/catalog/products/August%202023/chau-hoa-ho-diep-060.jpg.webp",
    name: "Chậu Lan Hồ Điệp - 060",
    sale: 0,
    newPrice: "2330000VND",
    oldPrice: "",
    description:
      "Chậu Lan Hồ Điệp - 060 được thiết kế từ 8 cành lan hồ điệp trắng sang trọng. Chậu Lan Hồ Điệp - 060 là lựa chọn phù hợp để tặng người thân, đối tác nhân dịp khai trương, sinh nhật hay chúc mừng năm mới.",
  },
  {
    img: "https://8384f55340.vws.vegacdn.vn/image/cache/catalog/products/August%202023/chau-lan-ho-diep-021-2.jpg.webp",
    name: "Chậu Lan Hồ Điệp - 021",
    sale: 0,
    newPrice: "2330000VND",
    oldPrice: "",
    description:
      "Khó có ngôn ngữ nào diễn tả được hết vẻ đẹp kiêu sa của Lan Hồ Điệp, nó mang trong mình quá nhiều tính cách. Chậu Lan Kiêu Sa này vừa tinh tế và sang trọng trong những không gian trang trọng, quý phái, hoặc chỉ đơn giản là ở 1 góc nhỏ trên bàn làm việc thôi cũng đã khiến bạn cảm thấy tuyệt vời rồi. Một chậu lan gồm 8 cành hồ điệp gồm có sắc tím và trắng xen kẽ, chắc chắn sẽ là một món quà cực kì đặc biệt dành tặng sinh nhật hoặc tặng cho đối tác nhân những dịp đặc biệt đấy. Còn gì ý nghĩa hơn là gửi tặng những nhành hoa lan xinh đẹp thay cho lời chúc mừng nào!",
    component: "Chậu lan gồm có:",
    element1: "Lan hồ điệp tím : 4",
    element2: "Lan hồ điệp trắng : 4",
  },
  {
    img: "https://8384f55340.vws.vegacdn.vn/image/cache/catalog/products/August%202023/chau-lan-ho-diep-046-2.jpg.webp",
    name: "Chậu Lan Hồ Điệp - 046",
    sale: 0,
    newPrice: "2280000VND",
    oldPrice: "",
    description:
      "Chậu lan hồ điệp gồm 8 cành vàng được trang trí thật lạ mắt nhưng vẫn đạt được sự sang trọng, tinh tế và bắt mắt. Càng đặc biệt hơn, khi chậu lan Phú Quý được thiết kế riêng dành tặng dịp Tết với những nhành chuỗi ngọc đỏ, như một lời chúc cho một năm mới nhiều may mắn, tràn đầy ấm áp hạnh phúc và thật nhiều sức khỏe. Đây chắc chắn là một món quà mang nhiều ý nghĩa, không thể tuyệt vời hơn để dành tặng cho những người thân yêu và đối tác.",
    component: "Chậu lan gồm có:",
    element1: "8 cành lan hồ điệp vàng",
    element2: "Hoa lá trang trí",
  },
  {
    img: "https://8384f55340.vws.vegacdn.vn/image/cache/catalog/products/August%202023/chau-lan-ho-diep-048-03.jpg.webp",
    name: "Chậu Lan Hồ Điệp - 048",
    sale: 0,
    newPrice: "2330000VND",
    oldPrice: "",
    description:
      "Chậu lan hồ điệp tím với gam màu không quá đậm đà, phơn phớt, nhẹ nhàng, đằm thắm ep ấp như đang xoa dịu lại những cuộc cãi vã, hờn giận của lứa đôi. Hãy tặng người ấy chậu Lan này như 1 lời xin lỗi nhẹ nhàng đáng yêu các bạn nhé! Chậu Lan này bao gồm 5 cành lan tím được đặt cách nhau trong chiếc chậu màu trắng.",
    component: "Chậu lan gồm có:",
    element1: "8 cành lan hồ điệp vàng",
    element2: "Hoa lá trang trí",
  },
  {
    img: "https://8384f55340.vws.vegacdn.vn/image/cache/catalog/products/August%202023/chau-lan-ho-diep-xuan-huong-tet.jpg.webp",
    name: "Chậu Lan Hồ Điệp Tết - Hương Xuân",
    sale: 0,
    newPrice: "2300000VND",
    oldPrice: "",
    description: "",
    component: "Chậu lan hồ điệp Xuân Hương Tết được thiết kế từ:",
    element1: "Cây lan hồ điệp trắng: 8 cây",
  },
];

var p = "";
for (var i = 0; i < products.length; i++) {
  if (products[i].sale > 0 && products[i].oldPrice !== "") {
    p += `
          <div class="col-lg-3">
              <div class="card product" style="width: 18rem">
                  <a href="chi-tiet-san-pham.html" onclick="viewProductDetails('${
                    products[i].name
                  }')">
                      <img src="${products[i].img}" class="card-img-top" alt="${
      products[i].name
    }" />
                  </a>
                  <div class="icon-bar">
                      <i class="fas fa-heart"></i>
                      <i class="fas fa-plus"></i>
                      <i class="fas fa-cart-shopping"></i>
                      <i class="fas fa-sync-alt"></i>
                  </div>
                  <span class="sale">${products[i].sale}%<br />GIẢM</span>
                  <div class="card-body">
                      <h5 class="card-title text-center product-name">${
                        products[i].name
                      }</h5>
                      <p class="card-text text-center">
                          <span class="price-new">${products[i].newPrice}</span>
                          <span class="price-old">${products[i].oldPrice}</span>
                      </p>
                      <a href="#" class="btn btn-primary" onclick="addToCart('${
                        products[i].name
                      }', ${parseInt(products[i].newPrice)}, '${
      products[i].img
    }')">ĐẶT HÀNG</a>
                  </div>
              </div>
          </div>`;
  } else if (products[i].sale == 0 && products[i].oldPrice == "") {
    p += `
          <div class="col-lg-3">
              <div class="card product" style="width: 18rem">
                  <a href="chi-tiet-san-pham.html" onclick="viewProductDetails('${
                    products[i].name
                  }')">
                      <img src="${products[i].img}" class="card-img-top" alt="${
      products[i].name
    }" />
                  </a>
                  <div class="icon-bar">
                      <i class="fas fa-heart"></i>
                      <i class="fas fa-plus"></i>
                      <i class="fas fa-cart-shopping"></i>
                      <i class="fas fa-sync-alt"></i>
                  </div>
                  <div class="card-body">
                      <h5 class="card-title text-center product-name">${
                        products[i].name
                      }</h5>
                      <p class="card-text text-center">
                          <span class="price-new">${products[i].newPrice}</span>
                      </p>
                      <a href="#" class="btn btn-primary" onclick="addToCart('${
                        products[i].name
                      }', ${parseInt(products[i].newPrice)}, '${
      products[i].img
    }')">ĐẶT HÀNG</a>
                  </div>
              </div>
          </div>`;
  }
}

  document.querySelector(".list-products").innerHTML = p;
  updatePagination();
  updateQuantityInfo();
}

function updatePagination() {
  const pagination = document.querySelector(".pagination");
  pagination.innerHTML = "";

  if (currentPage > 1) {
    pagination.innerHTML += `<a href="#" onclick="changePage(1)">|&lt;</a>`;
    pagination.innerHTML += `<a href="#" onclick="changePage(${currentPage - 1})">&lt;</a>`;
  }

  for (let i = 1; i <= totalPages; i++) {
    pagination.innerHTML += `
      <a href="#" class="${i === currentPage ? 'active' : ''}" onclick="changePage(${i})">${i}</a>
    `;
  }

  if (currentPage < totalPages) {
    pagination.innerHTML += `<a href="#" onclick="changePage(${currentPage + 1})">&gt;</a>`;
    pagination.innerHTML += `<a href="#" onclick="changePage(${totalPages})">&gt;|</a>`;
  }
}

function updateQuantityInfo() {
  document.querySelector(".quantity-products").innerHTML = `Hiển thị từ ${(currentPage - 1) * itemsPerPage + 1} đến ${Math.min(currentPage * itemsPerPage, totalProducts)} / ${totalProducts} (${totalPages} Trang)`;
}

function changePage(page) {
  if (page < 1 || page > totalPages) return;
  currentPage = page;
  renderProducts(currentPage);
}

// Khởi động trang đầu tiên
renderProducts(currentPage);

// Hàm xử lý liên kết chi tiết sản phẩm
function viewProductDetails(productName) {
  localStorage.setItem("selectedProductName", productName);
}
